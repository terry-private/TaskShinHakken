---
name: バグ報告
about: バグの報告
title: '[BUG] '
labels: 'bug, needs-triage'
assignees: ''
---

## 概要
例：タスク完了時に「しん」の経験値が正しく加算されず、レベルアップが発生しないバグが発生している。

## 背景・目的
例：
- タスク完了時の「しん」成長機能が正常に動作しない問題を修正する。
- ユーザー（子供）がタスク完了の達成感を得られないため、アプリの継続利用に影響している。
- データの整合性を保ち、正しいゲーミフィケーション体験を提供する必要がある。

## 対応方針・技術的検討事項
例：
- **調査事項:**
    - [ ] Firebase の経験値更新処理の確認
    - [ ] TCA の State 更新ロジックの検証
    - [ ] クライアント・サーバー間のデータ同期状況確認
- **修正内容:**
    - [ ] 経験値計算ロジックの修正
    - [ ] エラーハンドリングの追加
    - [ ] データ同期処理の改善
- **技術的検討事項:**
    - オフライン時の経験値データ保持方法
    - 既存ユーザーの不整合データの修復
    - 再発防止のためのバリデーション強化

## 完了の定義
**共通項目 (プロジェクトに合わせて調整してください):**
- [ ] 要件/仕様通りに機能が実装されている
- [ ] コードレビューが実施され、承認されている
- [ ] 関連するユニットテストが作成され、すべてパスしている
- [ ] UIが存在する場合、デザイン通りに実装され、主要なデバイス (iPhone/iPad) で表示崩れがない
- [ ] 自己テストが実施され、主要な動作に問題がないことが確認されている
- [ ] 関連ドキュメント（あれば）が更新されている
- [ ] マージ先のブランチで正常に動作する

**このバグ修正特有の項目:**
- [ ] 報告された再現手順で問題が発生しないことを確認
- [ ] 類似のエッジケースでも問題が発生しないことを確認
- [ ] 既存の正常動作に影響がないことを確認（回帰テスト）
- [ ] 修正により新たなバグが発生していないことを確認

## 参考情報 (References / Resources)
- 関連Issue: `#<issue番号>`
- エラーログ: `[ログファイルやスクリーンショットへのリンク]`
- 再現用テストデータ: `[テストデータの説明]`
- 関連ドキュメント: [`docs/04_BACKEND_INTEGRATION_GUIDELINES.md`](../../docs/04_BACKEND_INTEGRATION_GUIDELINES.md)

## その他・備考 (Other Notes)
- 本番環境での発生頻度や影響範囲
- 一時的な回避策（ワークアラウンド）の有無

---
ここから下はテンプレートの使用ルールとコピー用のサンプルなのでIssue作成時には削除してください

## ルール
- 共通項目のチェックリストのうち不要なものは削除ではなく~ ~で囲って取り消し線で不要なことを表現すること
- 不要なサンプルなどの例は削除すること

## バグ詳細情報の追加
必要に応じて以下のセクションを追加：

### 再現手順
1. アプリを起動して子供のアカウントでログイン
2. タスク一覧から未完了のタスクを選択
3. タスク完了ボタンをタップ
4. 「しん」画面で経験値の変化を確認

### 期待される動作
- タスク完了時に設定されたポイント分の経験値が加算される
- 閾値に達した場合は「しん」のレベルアップが発生する

### 実際の動作
- 経験値が加算されない、またはレベルアップが発生しない

### 環境情報
- iOS バージョン: 17.0
- デバイス: iPhone 15 / iPad Pro
- アプリバージョン: v0.1.0

### 影響範囲・優先度
- [ ] 緊急 (アプリが使用できない)
- [ ] 高 (主要機能に影響)
- [ ] 中 (一部機能に影響)
- [ ] 低 (軽微な問題)

## アラート記法のサンプル
> [!NOTE]
> これはNOTEアラートです。ユーザーが軽く目を通す際にも考慮すべき情報をハイライトします。

> [!TIP]
> これはTIPアラートです。ユーザーがより成功するための任意情報です。

> [!IMPORTANT]
> これはIMPORTANTアラートです。ユーザーが成功するために不可欠な重要な情報です。

> [!WARNING]
> これはWARNINGアラートです。潜在的なリスクがあるため、ユーザーの即時注意を要する重大な内容です。

> [!CAUTION]
> これはCAUTIONアラートです。ある行動が引き起こす可能性のある否定的な結果を示します。

--- 